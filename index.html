<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saravana Bhavan </title>
    <link rel="stylesheet" href="CSS/style.css">
</head>
<body>
    <header>
        <div style="position: relative; text-align: center;">
            <img id="banner" src="Images/Banner.png" alt="Saravana Bhavan Banner">
            <h1 id="banner-title">Saravana Bhavan</h1>
        </div>
        <nav class ="Menu">
            <ul> 
                <li><a href="Pages/AboutUs.html">About Us</a></li>
                <li><a href="Pages/Location.html">Find Us</a></li>
                <li><a href="Pages/OurWhy.html">Our Why</a></li>
                <li><a href="Pages/WhyUs.html"> Why Us</a></li>
                <li><a href="Pages/Review.html">What our Customers Say</a></li>

            </ul>
        </nav>
    </header>
    <section class="hero">
        <div class="carousel-container">
            <div class="carousel-slide active">
                <img src="HeroCarosel/Deca Cover Photo.png" alt="Saravana Bhavan">
                <div class="carousel-overlay"></div>
            </div>
            <div class="carousel-slide">
                <img src="HeroCarosel/Screenshot 2026-01-30 192354.png" alt="Delicious Food">
                <div class="carousel-overlay"></div>
            </div>
            <div class="carousel-slide">
                <img src="HeroCarosel/Screenshot 2026-01-30 192336.png" alt="Our Restaurant">
                <div class="carousel-overlay"></div>
            </div>
            <div class="carousel-slide">
                <img src="HeroCarosel/Screenshot 2026-01-30 192314.png" alt="Authentic Cuisine">
                <div class="carousel-overlay"></div>
            </div>
            <div class="hero-content">
                <h1 id="Hero-Header">Welcome to Saravana Bhavan</h1>
                <p id="Slogan-Hero">World's No.1 South Indian Restaurant Chain</p>
                <button id="OrderNow" onclick="onOrderButtonClick()">Order Now</button>
            </div>
            <button class="carousel-control prev" onclick="moveCarousel(-1)">&#10094;</button>
            <button class="carousel-control next" onclick="moveCarousel(1)">&#10095;</button>
            <div class="carousel-indicators">
                <span class="indicator active" onclick="goToSlide(0)"></span>
                <span class="indicator" onclick="goToSlide(1)"></span>
                <span class="indicator" onclick="goToSlide(2)"></span>
                <span class="indicator" onclick="goToSlide(3)"></span>
            </div>
        </div>
    </section>
    
    <!-- Main Content Section -->
    <section id="article-content">
        <div class="container">
            <h2 style="color: #007749;">Welcome to Durban - Experience Tradition and Authenticity</h2>
            
            <div class="article-content">
                <div class="map-embed">
                    <img src="Images/DurbanMap.jpg" alt="Map of Durban, South Africa">
                </div>
                
                <p>Nestled in the vibrant heart of Durban, South Africa, Saravana Bhavan brings the authentic flavors of South India to one of the world's most culturally diverse cities. Our restaurant stands as a testament to the rich culinary heritage that has made us the world's leading South Indian restaurant chain.</p>
                
                <p>Durban, known for its warm subtropical climate and bustling multicultural atmosphere, provides the perfect backdrop for our traditional dining experience. The city's unique blend of Indian, African, and European influences creates an environment where authentic South Indian cuisine not only thrives but celebrates its roots among a community that deeply appreciates culinary excellence.</p>
                
                <p>Located in this coastal paradise, our restaurant serves as a culinary bridge, connecting generations through time-honored recipes and cooking techniques passed down through decades. From our signature dosas to our aromatic filter coffee, every dish tells a story of tradition, authenticity, and the unwavering commitment to quality that has made Saravana Bhavan a household name across the globe.</p>
                
                <p>Whether you're a local resident or a visitor exploring the beauty of Durban, we invite you to experience the warmth of South Indian hospitality and discover why food lovers from around the world continue to make Saravana Bhavan their destination of choice for authentic vegetarian cuisine.</p>
            </div>
        </div>
    </section>
    
    <footer id="footer">
        <p style="text-align: center;">Washington DECA IBP</p>
        <p style="text-align: center;">Made by</p>
        <p style="text-align: center;">Piyush Chandra Kancharapu Ishan Hemanand Arjun Rajkumar</p>
    </footer>

    <!-- SBuddy Floating Button -->
    <div id="sbuddy-toggle" class="sbuddy-toggle">
        <span>SB</span>
    </div>

    <!-- SBuddy Chat Popup -->
    <div id="sbuddy-popup" class="sbuddy-popup">
        <div class="chatbot-container">
            <div class="chatbot-header">
                <div class="chatbot-avatar">ü§ñ</div>
                <div class="chatbot-info">
                    <h3>SBuddy</h3>
                    <p>AI Food Assistant</p>
                </div>
                <button class="close-chat" onclick="closeSBuddy()">‚úï</button>
            </div>

            <div class="chatbot-messages" id="sbuddy-messages">
                <div class="message">
                    <div class="message-bot">üëã Hey there! I'm SBuddy, your food recommendation buddy!</div>
                </div>
                <div class="message">
                    <div class="message-bot">üçΩÔ∏è Tell me... what kind of mood are you in? Are you feeling spicy, light, or adventurous today?</div>
                </div>
            </div>

            <div class="chatbot-input-area">
                <div class="input-wrapper">
                    <input type="text" id="sbuddy-input" class="chat-input" placeholder="Ask SBuddy for food recommendations...">
                    <button class="send-btn" onclick="sendMessage()">‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // SBuddy Groq API Configuration
        const GROQ_API_KEY = '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';
        const GROQ_API_URL = 'https://api.groq.com/openai/v1/chat/completions';

        const menuItems = [
            // BREAKFAST ITEMS
            { name: 'Idly (3 pcs)', category: 'Breakfast', price: 'R45.00', description: 'Soft steamed rice cakes served with sambar and chutneys' },
            { name: 'Podi Idly', category: 'Breakfast', price: 'R55.00', description: 'Idlis tossed in spiced lentil powder with ghee' },
            { name: 'Medhu Vada (2 pcs)', category: 'Breakfast', price: 'R55.00', description: 'Crispy deep-fried lentil donuts served with sambar and chutneys' },
            { name: 'Masala Vada (2 pcs)', category: 'Breakfast', price: 'R55.00', description: 'Spiced lentil fritters with onions and chilies' },
            { name: 'Onion Medhu Vada', category: 'Breakfast', price: 'R60.00', description: 'Crispy vadas topped with caramelized onions' },
            { name: 'Ghee Pongal', category: 'Breakfast', price: 'R75.00', description: 'Comforting rice and lentil porridge tempered with ghee, cumin, and black pepper' },
            { name: 'Poori (3 pcs)', category: 'Breakfast', price: 'R70.00', description: 'Fluffy fried bread served with potato curry' },
            { name: 'Chole Bhature', category: 'Breakfast', price: 'R95.00', description: 'Large fluffy fried bread with spiced chickpea curry' },
            
            // DOSA VARIETIES
            { name: 'Plain Dosa', category: 'Dosa', price: 'R65.00', description: 'Traditional thin and crispy rice crepe' },
            { name: 'Masala Dosa', category: 'Dosa', price: 'R85.00', description: 'Crispy dosa filled with spiced potato masala' },
            { name: 'Ghee Dosa', category: 'Dosa', price: 'R75.00', description: 'Crispy dosa roasted with pure ghee for extra flavor' },
            { name: 'Ghee Masala Dosa', category: 'Dosa', price: 'R95.00', description: 'Ghee-roasted dosa with potato filling' },
            { name: 'Paper Dosa', category: 'Dosa', price: 'R95.00', description: 'Extra thin and extra large crispy dosa' },
            { name: 'Mysore Masala Dosa', category: 'Dosa', price: 'R95.00', description: 'Spicy red chutney spread dosa with potato masala' },
            { name: 'Rava Dosa', category: 'Dosa', price: 'R85.00', description: 'Crispy semolina crepe with cumin and curry leaves' },
            { name: 'Onion Rava Dosa', category: 'Dosa', price: 'R95.00', description: 'Rava dosa topped with onions and green chilies' },
            { name: 'Set Dosa (3 pcs)', category: 'Dosa', price: 'R75.00', description: 'Soft and fluffy mini dosas' },
            
            // UTTAPAM VARIETIES
            { name: 'Plain Uttapam', category: 'Uttapam', price: 'R70.00', description: 'Thick South Indian pancake topped with onions and tomatoes' },
            { name: 'Onion Uttapam', category: 'Uttapam', price: 'R75.00', description: 'Uttapam loaded with caramelized onions' },
            { name: 'Mixed Vegetable Uttapam', category: 'Uttapam', price: 'R85.00', description: 'Uttapam topped with fresh vegetables' },
            
            // RICE DISHES
            { name: 'Sambar Rice', category: 'Rice', price: 'R85.00', description: 'Steamed rice mixed with tangy sambar' },
            { name: 'Curd Rice', category: 'Rice', price: 'R75.00', description: 'Cooling yogurt rice tempered with mustard and curry leaves' },
            { name: 'Lemon Rice', category: 'Rice', price: 'R80.00', description: 'Tangy lemon-flavored rice with peanuts and curry leaves' },
            { name: 'Tamarind Rice', category: 'Rice', price: 'R80.00', description: 'Spiced rice with tangy tamarind' },
            { name: 'Vegetable Biryani', category: 'Rice', price: 'R115.00', description: 'Fragrant basmati rice cooked with mixed vegetables and aromatic spices' },
            { name: 'Tomato Rice', category: 'Rice', price: 'R85.00', description: 'Flavorful rice cooked with tomatoes and spices' },
            
            // CURRIES & GRAVIES
            { name: 'Sambar', category: 'Curries', price: 'R60.00', description: 'Traditional lentil-based vegetable stew' },
            { name: 'Rasam', category: 'Curries', price: 'R55.00', description: 'Tangy tamarind and tomato soup with spices' },
            { name: 'Dal Tadka', category: 'Curries', price: 'R85.00', description: 'Yellow lentils tempered with ghee and spices' },
            { name: 'Kadai Vegetable', category: 'Curries', price: 'R95.00', description: 'Mixed vegetables in spicy tomato gravy' },
            { name: 'Paneer Butter Masala', category: 'Curries', price: 'R125.00', description: 'Cottage cheese in rich creamy tomato gravy' },
            { name: 'Palak Paneer', category: 'Curries', price: 'R120.00', description: 'Cottage cheese in spinach gravy' },
            { name: 'Chana Masala', category: 'Curries', price: 'R95.00', description: 'Spiced chickpea curry' },
            
            // BREADS
            { name: 'Chapati (3 pcs)', category: 'Breads', price: 'R60.00', description: 'Whole wheat flatbread' },
            { name: 'Parotta (2 pcs)', category: 'Breads', price: 'R70.00', description: 'Flaky layered flatbread' },
            { name: 'Naan', category: 'Breads', price: 'R55.00', description: 'Leavened oven-baked flatbread' },
            { name: 'Butter Naan', category: 'Breads', price: 'R65.00', description: 'Naan brushed with butter' },
            { name: 'Garlic Naan', category: 'Breads', price: 'R75.00', description: 'Naan topped with garlic and cilantro' },
            
            // SNACKS & STARTERS
            { name: 'Samosa (2 pcs)', category: 'Snacks', price: 'R55.00', description: 'Crispy pastry filled with spiced potatoes and peas' },
            { name: 'Mysore Bonda (4 pcs)', category: 'Snacks', price: 'R60.00', description: 'Deep-fried savory lentil fritters' },
            { name: 'Pani Puri (6 pcs)', category: 'Snacks', price: 'R65.00', description: 'Crispy shells with spicy tangy water' },
            { name: 'Gobi Manchurian', category: 'Snacks', price: 'R95.00', description: 'Indo-Chinese cauliflower in spicy sauce' },
            { name: 'Paneer 65', category: 'Snacks', price: 'R115.00', description: 'Spicy fried cottage cheese' },
            
            // DESSERTS
            { name: 'Gulab Jamun (2 pcs)', category: 'Desserts', price: 'R55.00', description: 'Soft milk dumplings in rose-flavored syrup' },
            { name: 'Rasmalai (2 pcs)', category: 'Desserts', price: 'R70.00', description: 'Cottage cheese discs in sweetened milk' },
            { name: 'Payasam', category: 'Desserts', price: 'R60.00', description: 'Traditional South Indian rice pudding' },
            { name: 'Falooda Ice Cream', category: 'Desserts', price: 'R85.00', description: 'Rich ice cream with vermicelli and rose syrup' },
            { name: 'Kesari', category: 'Desserts', price: 'R55.00', description: 'Semolina sweet with saffron and nuts' },
            
            // BEVERAGES
            { name: 'Filter Coffee', category: 'Beverages', price: 'R45.00', description: 'Authentic South Indian filter coffee' },
            { name: 'Masala Tea', category: 'Beverages', price: 'R40.00', description: 'Spiced Indian tea' },
            { name: 'Lassi', category: 'Beverages', price: 'R55.00', description: 'Refreshing yogurt drink (sweet or salted)' },
            { name: 'Mango Lassi', category: 'Beverages', price: 'R65.00', description: 'Creamy mango yogurt drink' },
            { name: 'Badam Milk', category: 'Beverages', price: 'R60.00', description: 'Almond-flavored milk drink' },
            { name: 'Buttermilk', category: 'Beverages', price: 'R40.00', description: 'Spiced yogurt drink' },
            { name: 'Fresh Lime Soda', category: 'Beverages', price: 'R45.00', description: 'Refreshing lime with soda' },
            
            // THALI/COMBO MEALS
            { name: 'Mini Meals', category: 'Meals', price: 'R135.00', description: 'Rice, sambar, rasam, vegetable curry, curd, pickle, and papad' },
            { name: 'Special Thali', category: 'Meals', price: 'R165.00', description: 'Complete meal with rice, breads, 2 curries, sambar, rasam, dessert, and more' },
            { name: 'Saravana Special Thali', category: 'Meals', price: 'R195.00', description: 'Deluxe meal with premium dishes and unlimited rice/breads' }
        ];

        const systemPrompt = `You are SBuddy, a friendly and helpful AI food recommendation assistant for Saravana Bhavan, a premium South Indian restaurant in Durban, South Africa. Your ONLY purpose is to help customers select food from our menu.

Available Menu Items (${menuItems.length} dishes across 10 categories):
${menuItems.map(item => `- ${item.name} (${item.price}) [${item.category}]: ${item.description}`).join('\n')}

CRITICAL GUIDELINES:
1. ONLY respond to food-related questions and meal recommendations
2. If the user asks anything unrelated to food, ordering, or our menu, politely respond: "I'm SBuddy, your food recommendation assistant! I'm here specifically to help you choose delicious dishes from our menu. What kind of flavors are you in the mood for today?"
3. Do NOT engage in general conversation, personal questions, or non-food topics
4. Do NOT answer questions about politics, weather, math, coding, or anything outside of food recommendations
5. Make personalized recommendations based on their food preferences:
   - Spicy mood ‚Üí Mysore Masala Dosa, Paneer 65, Gobi Manchurian
   - Light appetite ‚Üí Idly, Set Dosa, Curd Rice, Rasam
   - Very hungry ‚Üí Special Thali, Vegetable Biryani, Chole Bhature
   - Crispy preference ‚Üí Masala Vada, Paper Dosa, Rava Dosa
   - Sweet tooth ‚Üí Gulab Jamun, Rasmalai, Falooda Ice Cream
   - Traditional South Indian ‚Üí Filter Coffee, Ghee Pongal, Sambar Rice
   - Indo-Chinese fusion ‚Üí Gobi Manchurian, Paneer 65
   - Breakfast ‚Üí Idly, Dosa varieties, Poori, Vada
   - Lunch/Dinner ‚Üí Thalis, Biryani, Rice dishes with curries
6. When recommending dishes, mention the category and explain WHY
7. Suggest complementary items (e.g., "Try the Masala Dosa with Filter Coffee!")
8. Keep responses concise (2-4 sentences max)
9. Never recommend anything not on the menu
10. Be enthusiastic about South Indian cuisine!
11. If they greet you or start casually, immediately steer to food: "Hey! Ready to explore amazing South Indian flavors? What sounds good to you today?"
12. You can suggest complete meals with multiple courses
13. Mention price ranges when helpful (Budget-friendly vs Premium options)

Remember: You are a food ordering assistant ONLY. Redirect all non-food topics back to the menu.`;

        let conversationHistory = [];

        // Toggle SBuddy popup
        function toggleSBuddy() {
            const popup = document.getElementById('sbuddy-popup');
            const toggle = document.getElementById('sbuddy-toggle');
            
            if (popup.classList.contains('show')) {
                popup.classList.remove('show');
                toggle.classList.remove('active');
            } else {
                popup.classList.add('show');
                toggle.classList.add('active');
                document.getElementById('sbuddy-input').focus();
            }
        }

        function closeSBuddy() {
            const popup = document.getElementById('sbuddy-popup');
            const toggle = document.getElementById('sbuddy-toggle');
            popup.classList.remove('show');
            toggle.classList.remove('active');
        }

        // Close popup when clicking outside
        document.addEventListener('click', function(event) {
            const popup = document.getElementById('sbuddy-popup');
            const toggle = document.getElementById('sbuddy-toggle');
            
            if (popup.classList.contains('show') && 
                !popup.contains(event.target) && 
                !toggle.contains(event.target)) {
                closeSBuddy();
            }
        });

        // Add click event to toggle button
        document.getElementById('sbuddy-toggle').addEventListener('click', toggleSBuddy);

        // Send message on Enter key
        document.getElementById('sbuddy-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        async function sendMessage() {
            const chatInput = document.getElementById('sbuddy-input');
            const messagesContainer = document.getElementById('sbuddy-messages');
            const userMessage = chatInput.value.trim();

            if (!userMessage) return;

            // Clear input
            chatInput.value = '';

            // Add user message to display
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'message';
            userMessageDiv.innerHTML = `<div class="message-user">${escapeHtml(userMessage)}</div>`;
            messagesContainer.appendChild(userMessageDiv);

            // Add user message to conversation history
            conversationHistory.push({
                role: 'user',
                content: userMessage
            });

            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // Show typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message';
            typingDiv.innerHTML = `<div class="message-bot">‚úì SBuddy is thinking...</div>`;
            messagesContainer.appendChild(typingDiv);

            try {
                const payload = {
                    model: 'llama-3.3-70b-versatile',
                    messages: [
                        {
                            role: 'system',
                            content: systemPrompt
                        },
                        ...conversationHistory
                    ],
                    temperature: 0.7,
                    max_tokens: 150,
                };

                const response = await fetch(GROQ_API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${GROQ_API_KEY}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    let errorMsg = `API error: ${response.status}`;
                    try {
                        const errorData = await response.json();
                        if (errorData.error?.message) {
                            errorMsg += ` - ${errorData.error.message}`;
                        }
                    } catch (e) {
                        console.log('Could not parse error response');
                    }
                    console.error('Groq API Error:', errorMsg);
                    throw new Error(errorMsg);
                }

                const data = await response.json();
                
                if (!data.choices || !data.choices[0] || !data.choices[0].message) {
                    console.error('Invalid response structure:', data);
                    throw new Error('Invalid API response structure');
                }
                
                const botMessage = data.choices[0].message.content;

                // Remove typing indicator
                typingDiv.remove();

                // Add bot response
                const botMessageDiv = document.createElement('div');
                botMessageDiv.className = 'message';
                botMessageDiv.innerHTML = `<div class="message-bot">${escapeHtml(botMessage)}</div>`;
                messagesContainer.appendChild(botMessageDiv);

                // Add to conversation history
                conversationHistory.push({
                    role: 'assistant',
                    content: botMessage
                });

                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            } catch (error) {
                console.error('Detailed Error:', error);
                typingDiv.remove();
                const errorMessageDiv = document.createElement('div');
                errorMessageDiv.className = 'message';
                errorMessageDiv.innerHTML = `<div class="message-bot">‚ö†Ô∏è ${error.message || 'Sorry, I encountered an error. Please try again!'}</div>`;
                messagesContainer.appendChild(errorMessageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        }

        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }
    </script>
</body>
</html> 